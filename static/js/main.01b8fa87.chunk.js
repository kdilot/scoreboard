(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports={pointHome:"PointLayout_pointHome__1Qw30",pointAway:"PointLayout_pointAway__2pelk",pointLayout:"PointLayout_pointLayout__2ARqe",dashboard:"PointLayout_dashboard__1N1pW",pointList:"PointLayout_pointList__3VqNf"}},18:function(e,t,n){e.exports={pointHome:"animation_pointHome__1LF-e",pointAway:"animation_pointAway__1pCMG"}},20:function(e,t,n){e.exports={btn__rd:"Button_btn__rd__3nlzk",btn__sm:"Button_btn__sm__xPXL4",btn__md:"Button_btn__md__kemqX",btn__lg:"Button_btn__lg__3ce4A",btn__full:"Button_btn__full__y3avX"}},28:function(e,t,n){e.exports={pointHome:"GameLiveText_pointHome__2qxld",pointAway:"GameLiveText_pointAway__meCeY",gameLive:"GameLiveText_gameLive__3MsS8",gameEnd:"GameLiveText_gameEnd__3ENc3",gamePlay:"GameLiveText_gamePlay__2jvvQ",blinking:"GameLiveText_blinking__2ICDs"}},29:function(e,t,n){e.exports={titleBoard:"ScoreBoardTitle_titleBoard__dcxYO",home:"ScoreBoardTitle_home__1zzeC",away:"ScoreBoardTitle_away__GZ5O9"}},32:function(e,t,n){e.exports={scoreLayout:"ScoreLayout_scoreLayout__1jexu",scoreBoard:"ScoreLayout_scoreBoard__3qWZL"}},45:function(e,t,n){e.exports={gameLayout:"GameLayout_gameLayout__3IekB"}},47:function(e,t,n){e.exports={layout:"MainLayout_layout__VhwN_"}},48:function(e,t,n){e.exports={set:"RoundNameText_set__2_3ti"}},55:function(e,t,n){e.exports=n(82)},60:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"PLAYGAME",function(){return V}),n.d(a,"PLAYGAME_POINT",function(){return Z}),n.d(a,"PLAYGAME_TIME",function(){return $}),n.d(a,"playGame",function(){return K}),n.d(a,"default",function(){return U});var o,r=n(0),c=n.n(r),i=n(24),s=n.n(i),u=(n(60),n(12)),l=n.n(u),m=n(41),f=n(42),d=n(43),p=n(53),_=n(44),h=n(54),b=(n(20),n(45)),y=n.n(b),v=function(e){var t=e.name,n=e.flag,a=e.playing,o=e.handleScore;return Object(r.useEffect)(function(){!a||!n&&n||setTimeout(function(){o(t)},650)},[o,t,a,n]),c.a.createElement("div",{className:y.a.gameLayout},c.a.createElement("div",null,c.a.createElement(W,e)),c.a.createElement("div",null,c.a.createElement(B,e)))},g=n(28),x=n.n(g),E=function(e){var t=e.playing;return c.a.createElement("div",{className:x.a.gameLive},c.a.createElement("h2",{className:t?x.a.gamePlay:x.a.gameEnd},c.a.createElement("div",null,t?"live":"end")))},P=n(46),O=n(47),j=n.n(O),S=function(e){var t=e.scoreboard,n=e.handleScore;return c.a.createElement(P.Scrollbars,{style:{width:"100%",height:"100vh"}},c.a.createElement("div",{className:j.a.layout},t.map(function(e,t){return c.a.createElement("div",{key:t},c.a.createElement(v,Object.assign({},e,{handleScore:n})))})))},L=n(13),w=function(e){var t=e.event,n=e.condition,a=void 0===n||n,o=e.timeout,c=void 0===o?150:o,i=Object(r.useState)(!1),s=Object(L.a)(i,2),u=s[0],l=s[1];return Object(r.useEffect)(function(){a&&(l(!0),setTimeout(function(){l(!1)},c))},[t,a,c]),u},N=n(15),A=n.n(N),k=n(18),M=n.n(k),B=function(e){var t=e.maxSet,n=e.setName,a=e.score,o=e.playing,i=Array(t).fill([0,0]),s=Object(r.useState)([0,0]),u=Object(L.a)(s,2),l=u[0],m=u[1],f=Object(r.useState)([0,0]),d=Object(L.a)(f,2),p=d[0],_=d[1],h=function(e){var t=Object(r.useRef)();return Object(r.useEffect)(function(){t.current=e}),t.current?t.current:a}(a),b=function(e,t){if(h.length-1===e)return w({event:{data:p,prevData:l},condition:Math.abs(p[t]-l[t])>0})};return Object(r.useEffect)(function(){var e=h.length;m(h[e-1])},[h,l]),Object(r.useEffect)(function(){var e=a.length;_(a[e-1])},[a,p]),c.a.createElement("div",{className:A.a.pointLayout},c.a.createElement("div",{className:A.a.dashboard},c.a.createElement(E,{playing:o}),c.a.createElement("div",{className:A.a.pointList},t>0&&i.map(function(e,t){return c.a.createElement(H,{key:t,index:t,setName:n})}))),c.a.createElement("div",{className:A.a.dashboard},c.a.createElement("h2",null,"Home"),c.a.createElement("div",{className:A.a.pointList},t>0&&i.map(function(e,t){return c.a.createElement("h2",{key:t,className:b(t,0)?M.a.pointHome:""},Array.isArray(a[t])&&a[t][0])}))),c.a.createElement("div",{className:A.a.dashboard},c.a.createElement("h2",null,"Away"),c.a.createElement("div",{className:A.a.pointList},t&&i.map(function(e,t){return c.a.createElement("h2",{key:t,className:b(t,1)?M.a.pointAway:""},Array.isArray(a[t])&&a[t][1])}))))},G=n(48),T=n.n(G),H=function(e){var t=e.index,n=e.setName,a=["st","nd","th"];return c.a.createElement("h2",{className:T.a.set},"oi"!==n?"".concat(n," ").concat(t+1):t>2?"".concat(t+1," ").concat(a[2]):"".concat(t+1).concat(a[t]))},Y=n(29),I=n.n(Y),C=function(e){var t=e.name,n=e.home,a=e.away,o=function(){return n-a>0?0:n-a<0?1:2};return c.a.createElement("div",{className:"".concat(I.a.titleBoard," ").concat(0===o()&&I.a.home," ").concat(1===o()&&I.a.away)},c.a.createElement("h3",null,t))},q=n(32),R=n.n(q),W=function(e){var t=e.name,n=e.setPoint,a=e.maxSetPoint,o=Object(r.useState)(0),i=Object(L.a)(o,2),s=i[0],u=i[1],l=Object(r.useState)(0),m=Object(L.a)(l,2),f=m[0],d=m[1],p=function(e){var t=Object(r.useRef)();return Object(r.useEffect)(function(){t.current=e}),t.current?t.current:n}(n),_=function(e){return a?Math.abs(n[e]-p[e]>0):Math.abs(n.filter(function(t){return t===e}).length-p.filter(function(t){return t===e}).length)>0},h=w({event:{setPoint:n,prevSetPoint:p},condition:_(0)}),b=w({event:{setPoint:n,prevSetPoint:p},condition:_(1)});return Object(r.useEffect)(function(){u(a?n[0]?n[0]:0:n.filter(function(e){return 0===e}).length),d(a?n[1]?n[1]:0:n.filter(function(e){return 1===e}).length)},[n,a]),c.a.createElement("div",{className:R.a.scoreLayout},c.a.createElement(C,{name:t,home:s,away:f}),c.a.createElement("div",{className:R.a.scoreBoard},c.a.createElement("h1",null,"Home"),c.a.createElement("h1",{className:h?M.a.pointHome:""},s),c.a.createElement("h1",{className:b?M.a.pointAway:""},f),c.a.createElement("h1",null,"Away")))},z=n(27),D=n(10),X=n(34),F=n(85),J=n(84),Q=n(35),V="product/PLAYGAME",Z="product/PLAYGAME_POINT",$="product/PLAYGAME_TIME",K=Object(F.a)(V),U=Object(J.a)((o={},Object(X.a)(o,$,function(e,t){return Object(Q.a)(e,function(e){var n=t.payload.name,a=e.scoreboard.filter(function(e){return e.name===n})[0],o=a.maxSet,r=a.maxSetPoint,c=a.maxPoint,i=a.score.length-1,s=[0,0],u=Math.round(Math.random()),l=Math.round(Math.random()*(c>1?10*(c-1):2*r))+(c>1?r:0),m=Math.round(Math.random()*(c>1?c-1:9))+(c>1?1:0);1===c&&(m>1&&(m=0),l>r&&(l=r)),a.playing&&(0===a.setPoint.length&&(a.setPoint=[0,0]),a.score[i][u]<l?(a.score[i][u]+=m,a.setPoint[u]+=m,a.score[i][u]>=l&&(a.score.length===o?a.playing=!1:a.score.push(s))):a.score.length===o?a.playing=!1:a.score.push(s),a.flag=!a.flag)})}),Object(X.a)(o,Z,function(e,t){return Object(Q.a)(e,function(e){var n=t.payload.name,a=e.scoreboard.filter(function(e){return e.name===n})[0],o=a.maxSet,r=a.score.length-1,c=a.score.length===a.maxSet&&25===a.maxPoint?15:a.maxPoint,i=Math.round(Math.random()),s=[0,0];a.playing&&(a.setPoint.filter(function(e){return 1===e}).length>=o/2||a.setPoint.filter(function(e){return 0===e}).length>=o/2?a.playing=!1:a.score[r][i]<c?(a.score[r][i]++,a.score[r][i]===c&&Math.abs(a.score[r][0]-a.score[r][1])>1&&(a.setPoint.push(i),a.setPoint.filter(function(e){return 1===e}).length>=o/2||a.setPoint.filter(function(e){return 0===e}).length>=o/2?a.playing=!1:a.score.push(s))):(a.score[r][i]++,Math.abs(a.score[r][0]-a.score[r][1])>1&&(a.setPoint.push(i),a.setPoint.filter(function(e){return 1===e}).length>=o/2||a.setPoint.filter(function(e){return 0===e}).length>=o/2?a.playing=!1:a.score.push(s))),a.flag=!a.flag)})}),o),{scoreboard:[{name:"badminton",setName:"set",maxPoint:21,maxSet:3,maxSetPoint:0,score:[[0,0]],setPoint:[],playing:!0,flag:!0},{name:"basketball",setName:"period",maxPoint:3,maxSet:4,maxSetPoint:20,score:[[0,0]],setPoint:[],playing:!0,flag:!0},{name:"volleyball",setName:"set",maxPoint:25,maxSet:5,maxSetPoint:0,score:[[0,0]],setPoint:[],playing:!0,flag:!0},{name:"table tennis",setName:"set",maxSet:7,maxPoint:11,maxSetPoint:0,score:[[0,0]],setPoint:[],playing:!0,flag:!0},{name:"soccer",setName:"oi",maxSet:2,maxPoint:1,maxSetPoint:6,score:[[0,0]],setPoint:[],playing:!0,flag:!0},{name:"ice hockey",setName:"period",maxSet:3,maxPoint:1,maxSetPoint:7,score:[[0,0]],setPoint:[],playing:!0,flag:!0}]}),ee=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(p.a)(this,Object(_.a)(t).call(this,e))).handleScore=function(){var e=Object(m.a)(l.a.mark(function e(t){var a,o,r,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.props,o=a.ScoreAction,r=a.score,!(c=r.scoreboard.filter(function(e){return e.name===t})[0]).playing){e.next=5;break}return e.next=5,o.playGame({name:t,data:c});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.state={handleScore:n.handleScore},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state.handleScore;return c.a.createElement("div",null,c.a.createElement(S,Object.assign({},this.props.score,{handleScore:e})))}}]),t}(r.Component),te=Object(z.b)(function(e){return{score:e.score}},function(e){return{ScoreAction:Object(D.bindActionCreators)(a,e)}})(ee),ne=n(14);var ae=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ne.a,{exact:!0,path:"/",component:te}),c.a.createElement(ne.a,{path:"/scoreboard",component:te}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oe=n(31),re=n(52),ce=n(51),ie=n(21),se=l.a.mark(me),ue=l.a.mark(fe),le=l.a.mark(de);function me(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.d)(V,fe);case 2:case"end":return e.stop()}},se)}function fe(e){var t,n,a;return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.payload,n=t.name,!(a=t.data).playing){o.next=9;break}if(!a.maxSetPoint){o.next=7;break}return o.next=5,Object(ie.c)({type:$,payload:{name:n}});case 5:o.next=9;break;case 7:return o.next=9,Object(ie.c)({type:Z,payload:{name:n}});case 9:case"end":return o.stop()}},ue)}function de(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.a)([Object(ie.b)(me)]);case 2:case"end":return e.stop()}},le)}var pe=Object(D.combineReducers)({score:U}),_e=Object(re.a)(),he=Object(D.createStore)(pe,Object(ce.composeWithDevTools)(Object(D.applyMiddleware)(_e)));_e.run(de);var be=he;s.a.render(c.a.createElement(z.a,{store:be},c.a.createElement(oe.a,null,c.a.createElement(ae,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[55,1,2]]]);
//# sourceMappingURL=main.01b8fa87.chunk.js.map